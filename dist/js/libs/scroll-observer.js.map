{"version":3,"file":"scroll-observer.js","names":["ScrollObserver","els","cb","options","_classCallCheck","document","querySelectorAll","defaultOptions","root","rootMargin","threshold","once","Object","assign","_init","_createClass","key","value","_this2","callback","entries","observer","_this","forEach","entry","isIntersecting","target","unobserve","io","IntersectionObserver","bind","POLL_INTERVAL","el","observe"],"sources":["libs/scroll-observer.js"],"sourcesContent":["class ScrollObserver {\n  constructor(els, cb, options) {\n    this.els = document.querySelectorAll(els);\n    const defaultOptions = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 0,\n      once: true,\n    };\n    this.cb = cb;\n    this.options = Object.assign(defaultOptions, options);\n    this.once = this.options.once;\n    this._init();\n  }\n\n  _init() {\n    const callback = function (entries, observer) {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          this.cb(entry.target, true);\n          if (this.once) {\n            observer.unobserve(entry.target);\n          }\n        } else {\n          this.cb(entry.target, false);\n        }\n      });\n    };\n\n    this.io = new IntersectionObserver(callback.bind(this), this.options);\n\n    // @see https://github.com/w3c/IntersectionObserver/tree/master/polyfill\n    this.io.POLL_INTERVAL = 100;\n\n    this.els.forEach((el) => this.io.observe(el));\n  }\n}\n"],"mappings":";;;;;;;;IAAMA,cAAc;EAClB,SAAAA,eAAYC,GAAG,EAAEC,EAAE,EAAEC,OAAO,EAAE;IAAAC,eAAA,OAAAJ,cAAA;IAC5B,IAAI,CAACC,GAAG,GAAGI,QAAQ,CAACC,gBAAgB,CAACL,GAAG,CAAC;IACzC,IAAMM,cAAc,GAAG;MACrBC,IAAI,EAAE,IAAI;MACVC,UAAU,EAAE,KAAK;MACjBC,SAAS,EAAE,CAAC;MACZC,IAAI,EAAE;IACR,CAAC;IACD,IAAI,CAACT,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,OAAO,GAAGS,MAAM,CAACC,MAAM,CAACN,cAAc,EAAEJ,OAAO,CAAC;IACrD,IAAI,CAACQ,IAAI,GAAG,IAAI,CAACR,OAAO,CAACQ,IAAI;IAC7B,IAAI,CAACG,KAAK,CAAC,CAAC;EACd;EAACC,YAAA,CAAAf,cAAA;IAAAgB,GAAA;IAAAC,KAAA,EAED,SAAAH,MAAA,EAAQ;MAAA,IAAAI,MAAA;MACN,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAaC,OAAO,EAAEC,QAAQ,EAAE;QAAA,IAAAC,KAAA;QAC5CF,OAAO,CAACG,OAAO,CAAC,UAACC,KAAK,EAAK;UACzB,IAAIA,KAAK,CAACC,cAAc,EAAE;YACxBH,KAAI,CAACpB,EAAE,CAACsB,KAAK,CAACE,MAAM,EAAE,IAAI,CAAC;YAC3B,IAAIJ,KAAI,CAACX,IAAI,EAAE;cACbU,QAAQ,CAACM,SAAS,CAACH,KAAK,CAACE,MAAM,CAAC;YAClC;UACF,CAAC,MAAM;YACLJ,KAAI,CAACpB,EAAE,CAACsB,KAAK,CAACE,MAAM,EAAE,KAAK,CAAC;UAC9B;QACF,CAAC,CAAC;MACJ,CAAC;MAED,IAAI,CAACE,EAAE,GAAG,IAAIC,oBAAoB,CAACV,QAAQ,CAACW,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC3B,OAAO,CAAC;;MAErE;MACA,IAAI,CAACyB,EAAE,CAACG,aAAa,GAAG,GAAG;MAE3B,IAAI,CAAC9B,GAAG,CAACsB,OAAO,CAAC,UAACS,EAAE;QAAA,OAAKd,MAAI,CAACU,EAAE,CAACK,OAAO,CAACD,EAAE,CAAC;MAAA,EAAC;IAC/C;EAAC;EAAA,OAAAhC,cAAA;AAAA"}