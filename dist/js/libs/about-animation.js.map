{"version":3,"file":"about-animation.js","names":["AboutAnimation","el","_classCallCheck","DOM","animate","_createClass","key","value","inner","querySelector","wrapper","list","img","line","lineIner","sections","Array","from","children","scrollTween","gsap","to","x","clientWidth","ease","scrollTrigger","trigger","start","end","concat","scrub","pin","anticipatePin","invalidateOnRefresh","ScrollTrigger","create","toggleClass","targets","className","once","fromTo","y","scale","duration","lineTl","timeline","onEnter","classList","add","onEnterBack","onLeaveBack","remove","onLeave","width","forEach","section","numberWrapper","number","title","texts","querySelectorAll","aboutTl","containerAnimation","opacity","yPercent","xPercent","skewX","toggle","stagger"],"sources":["libs/about-animation.js"],"sourcesContent":["class AboutAnimation {\n  constructor(el) {\n    this.DOM = {};\n    this.DOM.el = el;\n    this.animate();\n  }\n\n  animate() {\n    // Horizontal\n    const inner = this.DOM.el.querySelector('.about__inner');\n    const wrapper = this.DOM.el.querySelector('.about__list-wrapper');\n    const list = this.DOM.el.querySelector('.about__list');\n    const img = this.DOM.el.querySelector('.about__img');\n    const line = this.DOM.el.querySelector('.about__line');\n    const lineIner = this.DOM.el.querySelector('.about__line-inner');\n    const sections = Array.from(list.children);\n\n    const scrollTween = gsap.to(list, {\n      // リスト最後尾をラッパー右端に合わせる（リスト – ラッパー）\n      x: () => -(list.clientWidth - wrapper.clientWidth),\n      ease: 'none',\n      scrollTrigger: {\n        trigger: this.DOM.el,\n        start: 'top 5%',\n        end: () => `+=${list.clientWidth - wrapper.clientWidth}`,\n        scrub: true,\n        pin: true,\n        anticipatePin: 1, // ページのガタつきを防ぐ\n        invalidateOnRefresh: true, // リサイズ時に再計算\n        // markers: true,\n      },\n    });\n\n    // inner-active\n    ScrollTrigger.create({\n      trigger: sections,\n      start: 'top 75%',\n      toggleClass: { targets: inner, className: 'about-inner-active' },\n      once: true,\n      // markers: true,\n    });\n\n    // img-scrub\n    gsap.fromTo(\n      img,\n      {\n        y: 15,\n        scale: 0.75,\n      },\n      {\n        scale: 1,\n        y: 0,\n        ease: 'none',\n        duration: 1,\n        scrollTrigger: {\n          trigger: this.DOM.el,\n          start: 'top 5%',\n          end: () => `+=${list.clientWidth - wrapper.clientWidth}`,\n          scrub: 2,\n          // markers: true,\n        },\n      },\n    );\n\n    // scroll-line\n    const lineTl = gsap.timeline({\n      scrollTrigger: {\n        trigger: this.DOM.el,\n        start: 'top 5%',\n        end: () => `+=${list.clientWidth - wrapper.clientWidth}`,\n        scrub: true,\n        // markers: true,\n        onEnter: () => {\n          // console.log('onEnter is called');\n          line.classList.add('line-active');\n        },\n        onEnterBack: () => {\n          // console.log('onEnterBack is called');\n          line.classList.add('line-active');\n        },\n        onLeaveBack: () => {\n          // console.log('onLeaveBack is called');\n          line.classList.remove('line-active');\n        },\n        onLeave: () => {\n          // console.log('onLeave is called');\n          line.classList.remove('line-active');\n        },\n      },\n    });\n\n    lineTl.fromTo(lineIner,\n      { width: 0 },\n      { width: '100%' });\n\n    // text-section\n    sections.forEach((section) => {\n      const numberWrapper = section.querySelector('.about__item-content-number-wrapper');\n      const number = section.querySelector('.about__item-content-number');\n      const title = section.querySelector('.about__item-content-title');\n      const texts = section.querySelectorAll('.about__item-content-text');\n\n      // タイムライン\n      const aboutTl = gsap.timeline({\n        scrollTrigger: {\n          trigger: section,\n          containerAnimation: scrollTween,\n          start: 'left 60%',\n          // markers: true,\n        },\n      });\n\n      aboutTl.fromTo(\n        number,\n        {\n          opacity: 0,\n        },\n        {\n          opacity: 1,\n          yPercent: -100,\n          duration: 0.2,\n          ease: 'power4.easeOut',\n        },\n      );\n      aboutTl.to(\n        number,\n        {\n          xPercent: 150,\n          skewX: -20,\n          duration: 0.8,\n          ease: 'power4.easeOut',\n        },\n        '>',\n      );\n      aboutTl.add(() => {\n        numberWrapper.classList.toggle('content-number-wrapper-active');\n      }, '<');\n      aboutTl.from(\n        title,\n        {\n          y: 50,\n          opacity: 0,\n          duration: 0.4,\n          ease: 'power4.easeOut',\n        },\n        '<',\n      );\n      aboutTl.from(\n        texts,\n        {\n          x: 128,\n          opacity: 0,\n          duration: 0.8,\n          ease: 'Back.easeOut',\n          stagger: 0.3,\n        },\n        '>',\n      );\n      aboutTl.add(() => {\n        title.classList.toggle('underline-active');\n        section.classList.toggle('box-shadow-active');\n      },\n      '>');\n    });\n  }\n}\n"],"mappings":"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"}