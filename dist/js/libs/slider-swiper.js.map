{"version":3,"file":"slider-swiper.js","names":["HeroSlider","el","delay","_classCallCheck","timer","swiper","_initSwiper","_createClass","key","value","_this","slideLength","document","querySelectorAll","length","total","concat","slice","fractionNum","querySelector","fractionTotal","textContent","updateFraction","index","current","console","log","classList","add","setTimeout","finishFraction","remove","switchAnimation","clearTimeout","activeSlide","i","finishAnimation","Swiper","effect","fadeEffect","crossFade","loop","loopAdditionalSlides","speed","followFinger","grabCursor","pagination","clickable","on","slideChange","realIndex","slideChangeTransitionStart","slideChangeTransitionEnd","start","customOptions","arguments","undefined","disableOnInteraction","waitForTransition","options","_objectSpread","params","autoplay","stop"],"sources":["libs/slider-swiper.js"],"sourcesContent":["class HeroSlider {\n  constructor(el, delay) {\n    this.el = el;\n    this.delay = delay;\n    this.timer = null;\n    this.swiper = this._initSwiper();\n  }\n\n  _initSwiper() {\n    // スライド要素取得\n    const slideLength = document.querySelectorAll('.js-works-hero .swiper-slide').length;\n    const total = (`00${slideLength}`).slice(-2);\n    const fractionNum = document.querySelector('.js-works-hero .fraction__num');\n    const fractionTotal = document.querySelector('.js-works-hero .fraction__total');\n    fractionTotal.textContent = total;\n\n    // スライド番号の切り替え\n    const updateFraction = (index) => {\n      const current = (`00${index + 1}`).slice(-2);\n      console.log(fractionNum);\n      fractionNum.classList.add('anm-started');\n      setTimeout(() => {\n        fractionNum.textContent = current;\n      }, 400);\n    };\n\n    // スライド番号の削除\n    const finishFraction = () => {\n      fractionNum.classList.remove('anm-started');\n    };\n\n\n    // アニメーション切り替え\n    const switchAnimation = () => {\n      clearTimeout(this.timer);\n      const activeSlide = document.querySelectorAll('.js-works-hero .swiper-slide[class*=-active]');\n      for (let i = 0; i < activeSlide.length; i += 1) {\n        activeSlide[i].classList.remove('anm-finished');\n        activeSlide[i].classList.add('anm-started');\n      }\n\n      this.timer = setTimeout(() => {\n        for (let i = 0; i < activeSlide.length; i += 1) {\n          activeSlide[i].classList.remove('anm-started');\n          activeSlide[i].classList.add('anm-finished');\n        }\n      }, this.delay - 1000);\n    };\n\n    // アニメーション終了（手動でスライド切替された時）\n    const finishAnimation = () => {\n      const activeSlide = document.querySelectorAll('.js-works-hero .swiper-slide.anm-started');\n      for (let i = 0; i < activeSlide.length; i += 1) {\n        activeSlide[i].classList.remove('anm-started');\n        activeSlide[i].classList.add('anm-finished');\n      }\n    };\n\n    return new Swiper(this.el, {\n      effect: 'fade',\n      fadeEffect: {\n        crossFade: true,\n      },\n      loop: true,\n      loopAdditionalSlides: 1,\n      speed: 2000,\n      followFinger: false,\n      grabCursor: true,\n      pagination: {\n        el: '.js-works-hero .swiper-pagination',\n        clickable: true,\n      },\n      on: {\n        slideChange(swiper) {\n          updateFraction(swiper.realIndex);\n          finishAnimation();\n        },\n        slideChangeTransitionStart() {\n          switchAnimation();\n        },\n        slideChangeTransitionEnd() {\n          finishFraction();\n        },\n      },\n    });\n  }\n\n  start(customOptions = {\n    delay: this.delay,\n    disableOnInteraction: false,\n    waitForTransition: false,\n  }) {\n    const options = {\n      delay: 4000,\n      disableOnInteraction: false,\n      ...customOptions,\n    };\n\n    this.swiper.params.autoplay = options;\n    this.swiper.autoplay.start();\n  }\n\n  stop() {\n    this.swiper.autoplay.stop();\n  }\n}\n"],"mappings":"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"}