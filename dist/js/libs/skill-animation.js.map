{"version":3,"file":"skill-animation.js","names":["SkillAnimation","el","_classCallCheck","DOM","items","querySelectorAll","animate","_createClass","key","value","_this","mm","gsap","matchMedia","add","pathTl","timeline","scrollTrigger","trigger","start","end","scrub","markers","fromTo","x","y","ease","motionPath","path","align","autoRotate","alignOrigin","stagger","forEach","item","img","querySelector","rect","label","slideX","skillTl","toggleActions","to","keyframes","autoAlpha","duration","alpha","delay"],"sources":["libs/skill-animation.js"],"sourcesContent":["class SkillAnimation {\n  constructor(el) {\n    this.DOM = {};\n    this.DOM.el = el;\n    this.DOM.items = this.DOM.el.querySelectorAll('.skill__item');\n    this.animate();\n  }\n\n  animate() {\n    const mm = gsap.matchMedia();\n\n    // motion-path (for Desctop)\n    mm.add('(min-width: 600px)', () => {\n      const pathTl = gsap.timeline({\n        scrollTrigger: {\n          trigger: this.DOM.el,\n          start: 'top center',\n          end: 'bottom center',\n          scrub: true,\n          markers: true,\n        },\n      });\n\n      pathTl.fromTo('#polygon',\n        { x: 0, y: 0 },\n        {\n          ease: 'none',\n          motionPath: {\n          // SVGのパスに沿って移動\n            path: '#pc-path',\n            align: '#pc-path',\n            autoRotate: true,\n            alignOrigin: [0.5, 0.5],\n          },\n        });\n    });\n\n    // motion-path (for Mobile)\n    mm.add('(max-width: 599px)', () => {\n      const pathTl = gsap.timeline({\n        scrollTrigger: {\n          trigger: this.DOM.el,\n          start: 'top center',\n          end: 'bottom center',\n          scrub: true,\n          markers: true,\n        },\n      });\n\n      pathTl.fromTo('#polygon',\n        { x: 0, y: 0 },\n        {\n          ease: 'none',\n          motionPath: {\n          // SVGのパスに沿って移動\n            path: '#sp-path',\n            align: '#sp-path',\n            autoRotate: true,\n            alignOrigin: [0.5, 0.5],\n          },\n        });\n    });\n\n    // text-animation\n    const stagger = 0.05;\n\n    this.DOM.items.forEach((item) => {\n      const img = item.querySelector('.skill__img');\n      const rect = item.querySelector('.skill__name .rect');\n      const label = item.querySelector('.skill__name .label');\n      const slideX = item.querySelector('.skill__text.slideX');\n\n      const skillTl = gsap.timeline({\n        scrollTrigger: {\n          trigger: item,\n          start: 'top 80%',\n          toggleActions: 'play none none none',\n        },\n      });\n\n      skillTl.to(\n        img,\n        {\n          keyframes: {\n            '0%': { y: 45, autoAlpha: 0, ease: 'power4.in' },\n            '24%': { autoAlpha: 1 },\n            '25%': { y: 0, ease: 'power4.out' },\n            '40%': { y: 24, ease: 'power4.in' },\n            '55%': { y: 0, ease: 'power4.out' },\n            '65%': { y: 12, ease: 'power4.in' },\n            '75%': { y: 0, ease: 'power4.out' },\n            '82%': { y: 6, ease: 'power4.in' },\n            '87%': { y: 0, ease: 'power4.out' },\n            '93%': { y: 4, ease: 'power4.in' },\n            '100%': { y: 0, autoAlpha: 1, ease: 'power4.out' },\n          },\n          duration: 0.7,\n        },\n      );\n      skillTl.fromTo(\n        rect,\n        {\n          x: '-105%',\n        },\n        {\n          x: '105%',\n          duration: 1,\n          stagger,\n          ease: 'power3.inout',\n        },\n        '-=0.4',\n      );\n      skillTl.fromTo(\n        label,\n        {\n          alpha: 0,\n        },\n        {\n          alpha: 1,\n          duration: 0.3,\n          delay: 0.5,\n          stagger,\n        },\n        '<',\n      );\n      skillTl.fromTo(\n        slideX,\n        {\n          alpha: 0,\n          x: -32,\n        },\n        {\n          alpha: 1,\n          x: 0,\n          duration: 0.75,\n          delay: 0.2,\n          stagger,\n          ease: 'power3.out',\n        },\n        '<',\n      );\n    });\n  }\n}\n"],"mappings":"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"}